# usagi.runtime.toml の設定例

[mode]
name = "manual_merge"

[merge]
# never | ask_human | auto_on_ci_green
policy = "ask_human"
require_human_on = ["discord", "tokens", "security"]

[vote]
enabled = true
threshold = "2of3"
# 社長は投票に入らない。取締役会(3人)で多数決する。
voters = ["board_cons", "board_chal", "board_rel"]
ask_human_on_tie = true

[system]
# GitHub操作を有効にするか（PR作成など）
gh_enabled = false
# Docker前提で動かすか（debug以外はtrue推奨）
docker_required = true
# PR merge等の権限者（社長id）
boss_id = "boss"

# autopilot/watch で同時起動するworkerコンテナ数
worker_pool_size = 5

# worker処理を別コンテナ(usagi-worker:latest)で実行する
use_worker_container = true

# worker image が存在しない場合のbuild方針
# - auto: 無ければ自動build
# - never: 無ければエラー
worker_image_build = "auto"

# inputs/ の処理後の挙動
# - keep: inputsに残す（デフォルト）
# - trash: .usagi/trash/inputs/ に移動（復元可能）
input_postprocess = "trash"

[autopilot]
enabled = false
inputs_dir = "inputs"
outputs_dir = "outputs"
work_root = "work"
stop_commands = ["STOP_USAGI", "usagi autopilot stop"]
